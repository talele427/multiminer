const _0x14f3=['parse','timers','wrong\x20pass','\x20has\x20joined\x20the\x20server\x20@\x20','631947dOWtKf','updateOne','1342431VcQAoV','30107ZSbxZl','112929RVhIMz','getValues','connection','autoMine','oreLevel','emit','timLevel','exists','indexOf','password','1yZQRBP','save','path','socket.io','loggedin','sendUser','listen','exec','sockets','ores','connect','1bFpHuS','catch','env','1PAToEM','findOne','donateF','1159106tkYUhZ','login','then','donateM','/public','find','connected\x20to\x20database','472158XxThvO','wild','moreOre','static','join','clicker\x20game\x20addict','stringify','plus','mineLevel','reqData','length','\x20has\x20been\x20added\x20to\x20the\x20database','admin','listening\x20@\x20%d','log','./models/admin','splice','niceTry','timCost','1321850HOxLZk','donated','21nDkOff','username','express'];const _0x2b73bb=_0x29b1;(function(_0x59eb40,_0x40dca5){const _0x5be2fd=_0x29b1;while(!![]){try{const _0x3f82a6=parseInt(_0x5be2fd(0x166))*-parseInt(_0x5be2fd(0x170))+parseInt(_0x5be2fd(0x171))*parseInt(_0x5be2fd(0x186))+parseInt(_0x5be2fd(0x16f))*parseInt(_0x5be2fd(0x189))+-parseInt(_0x5be2fd(0x16d))+-parseInt(_0x5be2fd(0x18c))+parseInt(_0x5be2fd(0x193))+-parseInt(_0x5be2fd(0x17b))*-parseInt(_0x5be2fd(0x164));if(_0x3f82a6===_0x40dca5)break;else _0x59eb40['push'](_0x59eb40['shift']());}catch(_0x44870e){_0x59eb40['push'](_0x59eb40['shift']());}}}(_0x14f3,0xc9ad4));const express=require(_0x2b73bb(0x168)),path=require(_0x2b73bb(0x17d)),http=require('http'),socketIO=require(_0x2b73bb(0x17e)),{setInterval}=require(_0x2b73bb(0x16a)),mongoose=require('mongoose'),Plr=require('./models/Plr'),Admin=require(_0x2b73bb(0x1a2)),publicPath=path[_0x2b73bb(0x197)](__dirname,_0x2b73bb(0x190)),port=process[_0x2b73bb(0x188)]['PORT']||0xfa0,dbURI='mongodb+srv://soham:01010011@multi-mining.v2v2e.mongodb.net/player-data?retryWrites=true&w=majority';let app=express(),server=http['createServer'](app),io=socketIO(server);mongoose[_0x2b73bb(0x185)](dbURI,{'useNewUrlParser':!![],'useUnifiedTopology':!![]})[_0x2b73bb(0x18e)](_0x159792=>server[_0x2b73bb(0x181)](port,()=>{const _0x458aa2=_0x2b73bb;console[_0x458aa2(0x1a1)](_0x458aa2(0x1a0),port),console[_0x458aa2(0x1a1)](_0x458aa2(0x192));}))['catch'](_0x1f8cc1=>console[_0x2b73bb(0x1a1)](_0x1f8cc1));var players=[],avOre=0xa,maxOre=0xa,timL=0x0,oreL=0x1,oreCost=0x0,timCost=0x0,tim=0x3c,regenProgress=0x0;Admin[_0x2b73bb(0x18a)]({'username':'admin'},function(_0x4ca9a8,_0x28fa7b){const _0xd416f1=_0x2b73bb;let _0xde519e=JSON[_0xd416f1(0x169)](JSON[_0xd416f1(0x199)](_0x28fa7b));oreCost=_0xde519e['oreCost'],timCost=_0xde519e[_0xd416f1(0x163)],timL=_0xde519e[_0xd416f1(0x177)],oreL=_0xde519e[_0xd416f1(0x175)];let _0x3d9365=0x0;for(var _0x21fe3c=0x1;_0x21fe3c<oreL;_0x21fe3c++){_0x3d9365+=_0x21fe3c;}maxOre=0xa+_0x3d9365,avOre=maxOre,tim<=0xa&&(tim=0x0,timCost=0x0);}),app['use'](express[_0x2b73bb(0x196)](publicPath)),io['on'](_0x2b73bb(0x173),_0xd0b98a=>{const _0xfb5626=_0x2b73bb;_0xd0b98a['on'](_0xfb5626(0x18d),(_0x29cc17,_0x2c9e1e)=>{const _0x2941ed=_0xfb5626;Plr[_0x2941ed(0x178)]({'username':_0x29cc17},function(_0x24aa3d,_0x45db3d){const _0x591ab2=_0x2941ed;_0x24aa3d&&console[_0x591ab2(0x1a1)](_0x24aa3d);if(_0x45db3d)Plr['findOne']({'username':_0x29cc17})['lean']()[_0x591ab2(0x182)](function(_0x49aabd,_0xeb60d6){const _0x291f7f=_0x591ab2;let _0x272182=JSON[_0x291f7f(0x169)](JSON[_0x291f7f(0x199)](_0xeb60d6));if(_0x2c9e1e==_0x272182[_0x291f7f(0x17a)]){let _0x4afb28=players[_0x291f7f(0x191)](_0x517c33=>_0x517c33[_0x291f7f(0x167)]==_0x29cc17);_0x4afb28?_0xd0b98a[_0x291f7f(0x176)]('existedEntry'):_0xd0b98a[_0x291f7f(0x176)](_0x291f7f(0x17f),_0x272182['username']);}else _0xd0b98a['emit'](_0x291f7f(0x16b));});else{const _0x5d8c45=new Plr({'username':_0x29cc17,'password':_0x2c9e1e,'ores':0x0,'donated':0x0,'totalMined':0x0,'autoMine':![],'mineLevel':0x1});_0x5d8c45[_0x591ab2(0x17c)]()[_0x591ab2(0x18e)](_0x334d42=>{const _0x26edb4=_0x591ab2;console[_0x26edb4(0x1a1)](_0x29cc17+_0x26edb4(0x19e)),_0xd0b98a['emit']('loggedin',_0x29cc17);})[_0x591ab2(0x187)](_0x229855=>{const _0x345523=_0x591ab2;console[_0x345523(0x1a1)](JSON[_0x345523(0x169)](JSON[_0x345523(0x199)](res)));}),console['log'](_0x29cc17+_0x591ab2(0x16c)+_0xd0b98a['id']);}}),io[_0x2941ed(0x183)]['emit'](_0x2941ed(0x172),players[_0x2941ed(0x19d)],avOre,oreCost,timCost);});}),io['on'](_0x2b73bb(0x173),_0x50668a=>{_0x50668a['on']('disconnect',()=>{const _0x3ec77e=_0x29b1;let _0x456a35=players['find'](_0x2515b9=>_0x2515b9['id']==_0x50668a['id']);_0x456a35&&(updP(_0x456a35),players[_0x3ec77e(0x161)](players[_0x3ec77e(0x179)](_0x456a35),0x1),io['sockets'][_0x3ec77e(0x176)](_0x3ec77e(0x172),players[_0x3ec77e(0x19d)],avOre,oreCost,timCost));});});function mine(_0x37cab8){const _0x1bdf12=_0x2b73bb;let _0x346bac=_0x37cab8[_0x1bdf12(0x19b)],_0x47e765=0x0;for(var _0x5edd02=0x0;_0x5edd02<_0x346bac;_0x5edd02++){avOre>0x0&&(avOre--,_0x47e765++);}_0x37cab8[_0x1bdf12(0x184)]+=_0x47e765,_0x37cab8['totalMined']+=_0x47e765,io[_0x1bdf12(0x183)][_0x1bdf12(0x176)](_0x1bdf12(0x172),players['length'],avOre,oreCost,timCost),io[_0x1bdf12(0x183)][_0x1bdf12(0x176)](_0x1bdf12(0x194),_0x37cab8[_0x1bdf12(0x184)],_0x37cab8['id']);}io['on'](_0x2b73bb(0x173),_0x3bc576=>{_0x3bc576['on']('miner',()=>{const _0x3f2645=_0x29b1;let _0x50b6c8=players[_0x3f2645(0x191)](_0x27ac72=>_0x27ac72['id']==_0x3bc576['id']),_0x54e9af=players[_0x3f2645(0x179)](players[_0x3f2645(0x191)](_0x231d38=>_0x231d38['id']==_0x3bc576['id']));setTimeout(mine,0x1388,_0x50b6c8);});}),io['on'](_0x2b73bb(0x173),_0x58835e=>{const _0x21dafb=_0x2b73bb;_0x58835e['on'](_0x21dafb(0x19c),(_0x5a12cb,_0x1a422e)=>{const _0x4fc89a=_0x21dafb;Plr[_0x4fc89a(0x18a)]({'username':_0x5a12cb},function(_0x453858,_0x2eeebe){const _0x1c987f=_0x4fc89a;let _0x178351=JSON[_0x1c987f(0x169)](JSON[_0x1c987f(0x199)](_0x2eeebe));_0x178351[_0x1c987f(0x17a)]==_0x1a422e?(_0x178351['id']=_0x58835e['id'],players['push'](_0x178351),_0x58835e[_0x1c987f(0x176)](_0x1c987f(0x180),_0x178351['username'],_0x178351[_0x1c987f(0x184)],_0x178351[_0x1c987f(0x19b)],_0x178351['autoMine']),_0x58835e[_0x1c987f(0x176)](_0x1c987f(0x19a)),io[_0x1c987f(0x183)][_0x1c987f(0x176)](_0x1c987f(0x172),players[_0x1c987f(0x19d)],avOre,oreCost,timCost)):_0x58835e[_0x1c987f(0x176)](_0x1c987f(0x162));});});}),io['on']('connection',_0x49faa4=>{const _0x3698f7=_0x2b73bb;_0x49faa4['on'](_0x3698f7(0x174),()=>{const _0x2a66bf=_0x3698f7;let _0x5174ba=players[_0x2a66bf(0x191)](_0x33b9ce=>_0x33b9ce['id']==_0x49faa4['id']);_0x5174ba['autoMine']?console[_0x2a66bf(0x1a1)](_0x2a66bf(0x198)):_0x5174ba['ores']>0x5&&(_0x5174ba[_0x2a66bf(0x174)]=!![],_0x5174ba['ores']-=0x5);let _0x2a5ea7=_0x5174ba;_0x49faa4[_0x2a66bf(0x176)](_0x2a66bf(0x180),_0x2a5ea7[_0x2a66bf(0x167)],_0x2a5ea7[_0x2a66bf(0x184)],_0x2a5ea7['mineLevel'],_0x2a5ea7[_0x2a66bf(0x174)]),io['sockets']['emit'](_0x2a66bf(0x172),players[_0x2a66bf(0x19d)],avOre,oreCost,timCost);});}),io['on'](_0x2b73bb(0x173),_0x18e050=>{const _0x4cd1c6=_0x2b73bb;_0x18e050['on'](_0x4cd1c6(0x18f),()=>{const _0x26b7f4=_0x4cd1c6;let _0x37c487=players[_0x26b7f4(0x191)](_0x455e22=>_0x455e22['id']==_0x18e050['id']);_0x37c487['ores']>=oreCost?(_0x37c487[_0x26b7f4(0x184)]-=oreCost,oreL++,_0x37c487['donated']+=oreCost,oreCost=oreL/0x2*0xa+oreL*oreL):(_0x37c487['donated']+=_0x37c487[_0x26b7f4(0x184)],oreCost-=_0x37c487['ores'],_0x37c487[_0x26b7f4(0x184)]=0x0,oreCost<=0x0&&(oreL++,oreCost+=oreL/0x2*0xa+oreL*oreL));let _0xdc7aee=_0x37c487;_0x18e050['emit'](_0x26b7f4(0x180),_0xdc7aee[_0x26b7f4(0x167)],_0xdc7aee['ores'],_0xdc7aee[_0x26b7f4(0x19b)],_0xdc7aee[_0x26b7f4(0x174)]),io[_0x26b7f4(0x183)]['emit'](_0x26b7f4(0x172),players['length'],avOre,oreCost,timCost);});}),io['on'](_0x2b73bb(0x173),_0x5db6d1=>{const _0x2ad6d1=_0x2b73bb;_0x5db6d1['on'](_0x2ad6d1(0x18b),()=>{const _0x4ecf8e=_0x2ad6d1;let _0x27d8e0=players['find'](_0x495380=>_0x495380['id']==_0x5db6d1['id']);_0x27d8e0[_0x4ecf8e(0x184)]>=timCost?(_0x27d8e0[_0x4ecf8e(0x184)]-=timCost,_0x27d8e0[_0x4ecf8e(0x165)]+=timCost,timL++,timCost=0x5a*(timL*timL)):(_0x27d8e0['donated']+=_0x27d8e0[_0x4ecf8e(0x184)],timCost-=_0x27d8e0[_0x4ecf8e(0x184)],_0x27d8e0['ores']=0x0,timCost<=0x0&&(timL++,timCost=0x5a*(timL*timL)));let _0x2d4bbb=_0x27d8e0;_0x5db6d1[_0x4ecf8e(0x176)](_0x4ecf8e(0x180),_0x2d4bbb['username'],_0x2d4bbb[_0x4ecf8e(0x184)],_0x2d4bbb[_0x4ecf8e(0x19b)],_0x2d4bbb[_0x4ecf8e(0x174)]),io[_0x4ecf8e(0x183)][_0x4ecf8e(0x176)](_0x4ecf8e(0x172),players['length'],avOre,oreCost,timCost);});}),io['on'](_0x2b73bb(0x173),_0x520168=>{const _0x1816ba=_0x2b73bb;_0x520168['on'](_0x1816ba(0x195),()=>{const _0x4a89f5=_0x1816ba;let _0x1b2cd6=players[_0x4a89f5(0x191)](_0x46deb8=>_0x46deb8['id']==_0x520168['id']),_0x340e03=_0x1b2cd6[_0x4a89f5(0x19b)]*0x32*(_0x1b2cd6[_0x4a89f5(0x19b)]/0x2);if(_0x1b2cd6[_0x4a89f5(0x184)]>=_0x340e03)_0x1b2cd6[_0x4a89f5(0x184)]-=_0x340e03,_0x1b2cd6[_0x4a89f5(0x19b)]++;else{}let _0x3d0910=_0x1b2cd6;_0x520168[_0x4a89f5(0x176)](_0x4a89f5(0x180),_0x3d0910[_0x4a89f5(0x167)],_0x3d0910[_0x4a89f5(0x184)],_0x3d0910['mineLevel'],_0x3d0910[_0x4a89f5(0x174)]),io[_0x4a89f5(0x183)][_0x4a89f5(0x176)]('getValues',players[_0x4a89f5(0x19d)],avOre,oreCost,timCost);});});function generateOre(){const _0x68451b=_0x2b73bb;avOre=maxOre,io[_0x68451b(0x183)][_0x68451b(0x176)](_0x68451b(0x172),players[_0x68451b(0x19d)],avOre,oreCost,timCost);}function updServ(){const _0x25ab5d=_0x2b73bb;var _0x218d19=oreL,_0x574742=timL,_0x3f4f77=oreCost,_0x67958=timCost;Admin['updateOne']({'username':_0x25ab5d(0x19f)},{'oreLevel':_0x218d19,'timLevel':_0x574742,'oreCost':_0x3f4f77,'timCost':_0x67958},function(_0x1aee85,_0x2367dc){});}function updP(_0x155776){const _0x8bdaf5=_0x2b73bb;_0x155776&&Plr[_0x8bdaf5(0x16e)]({'username':_0x155776[_0x8bdaf5(0x167)]},{'ores':_0x155776[_0x8bdaf5(0x184)],'donated':_0x155776[_0x8bdaf5(0x165)],'autoMine':_0x155776[_0x8bdaf5(0x174)],'totalMined':_0x155776['totalMined'],'mineLevel':_0x155776[_0x8bdaf5(0x19b)]},function(_0x31c963,_0x24cac0){});}function autos(){const _0x3af8ef=_0x2b73bb;for(var _0x12a529=0x0;_0x12a529<players[_0x3af8ef(0x19d)];_0x12a529++){players[_0x12a529]['autoMine']&&mine(players[_0x12a529]);}}function updateP(){const _0x10f46f=_0x2b73bb;let _0x194a37=players[updater];updP(_0x194a37),updater++;updater>=players[_0x10f46f(0x19d)]&&(updater=0x0);if(players[_0x10f46f(0x19d)]>0x32){let _0x90cede=players[updater];updP(_0x90cede),updater++;updater>=players[_0x10f46f(0x19d)]&&(updater=0x0);if(players[_0x10f46f(0x19d)]>0x64){let _0x47b8c0=players[updater];updP(_0x47b8c0),updater++,updater>=players['length']&&(updater=0x0);}}}function _0x29b1(_0x10bc6b,_0x2aa1e4){_0x10bc6b=_0x10bc6b-0x161;let _0x14f314=_0x14f3[_0x10bc6b];return _0x14f314;}function generOre(){regenProgress++,tim=0x3c+0x1-timL,regenProgress>=tim&&(generateOre(),regenProgress=0x0);}var updater=0x0;setInterval(generOre,0x3e8),setInterval(updServ,0x2710),setInterval(autos,0x1388),setInterval(updateP,0x7d0),setInterval(function(){regenProgress++;if(regenProgress<tim)return;regenProgress=0x0,generateOre();},0x3e8);