const _0x4890=['ores','\x20has\x20joined\x20the\x20server\x20@\x20','getValues','use','136951XVIQhZ','1AgtnHQ','timLevel','1126609qKguVt','mineLevel','./models/admin','log','3pWCfoC','connection','exec','donated','autoMine','stringify','mongoose','sockets','moreOre','socket.io','listening\x20@\x20%d','find','reqData','763194iOhAxk','sendUser','existedEntry','disconnect','connect','clicker\x20game\x20addict','parse','env','loggedin','2yykiXO','login','donateM','niceTry','exists','oreLevel','updateOne','indexOf','push','catch','oreCost','username','emit','/public','admin','static','then','timCost','timers','miner','245698uOWTkm','./models/Plr','splice','1138821SSkzFr','294230AjaaNl','createServer','save','listen','findOne','express','http','\x20has\x20been\x20added\x20to\x20the\x20database','length','1352692gIRoXu','6NMQHqZ','mongodb+srv://soham:01010011@multi-mining.v2v2e.mongodb.net/player-data?retryWrites=true&w=majority','plus'];const _0xe9896a=_0x49ea;(function(_0x1f622a,_0x5bd3e2){const _0x2ae372=_0x49ea;while(!![]){try{const _0x4174c8=parseInt(_0x2ae372(0x20f))+parseInt(_0x2ae372(0x21a))*parseInt(_0x2ae372(0x20c))+parseInt(_0x2ae372(0x224))+-parseInt(_0x2ae372(0x219))+-parseInt(_0x2ae372(0x222))*-parseInt(_0x2ae372(0x221))+-parseInt(_0x2ae372(0x210))*-parseInt(_0x2ae372(0x1f8))+-parseInt(_0x2ae372(0x1e2))*parseInt(_0x2ae372(0x1ef));if(_0x4174c8===_0x5bd3e2)break;else _0x1f622a['push'](_0x1f622a['shift']());}catch(_0x13ef7a){_0x1f622a['push'](_0x1f622a['shift']());}}}(_0x4890,0xc8de3));const express=require(_0xe9896a(0x215)),path=require('path'),http=require(_0xe9896a(0x216)),socketIO=require(_0xe9896a(0x1eb)),{setInterval}=require(_0xe9896a(0x20a)),mongoose=require(_0xe9896a(0x1e8)),Plr=require(_0xe9896a(0x20d)),Admin=require(_0xe9896a(0x1e0)),publicPath=path['join'](__dirname,_0xe9896a(0x205)),port=process[_0xe9896a(0x1f6)]['PORT']||0xfa0,dbURI=_0xe9896a(0x21b);let app=express(),server=http[_0xe9896a(0x211)](app),io=socketIO(server);mongoose[_0xe9896a(0x1f3)](dbURI,{'useNewUrlParser':!![],'useUnifiedTopology':!![]})[_0xe9896a(0x208)](_0x2697a6=>server[_0xe9896a(0x213)](port,()=>{const _0x903f64=_0xe9896a;console['log'](_0x903f64(0x1ec),port),console[_0x903f64(0x1e1)]('connected\x20to\x20database');}))[_0xe9896a(0x201)](_0x3ce2ec=>console[_0xe9896a(0x1e1)](_0x3ce2ec));var players=[],avOre=0xa,maxOre=0xa,timL=0x0,oreL=0x1,oreCost=0x0,timCost=0x0,tim=0x3c,regenProgress=0x0;Admin['findOne']({'username':_0xe9896a(0x206)},function(_0x23fde0,_0x4dc370){const _0x2e5555=_0xe9896a;let _0x58da61=JSON[_0x2e5555(0x1f5)](JSON[_0x2e5555(0x1e7)](_0x4dc370));oreCost=_0x58da61[_0x2e5555(0x202)],timCost=_0x58da61[_0x2e5555(0x209)],timL=_0x58da61[_0x2e5555(0x223)],oreL=_0x58da61[_0x2e5555(0x1fd)];let _0x14a34c=0x0;for(var _0x57bf22=0x1;_0x57bf22<oreL;_0x57bf22++){_0x14a34c+=_0x57bf22;}maxOre=0xa+_0x14a34c,avOre=maxOre,tim<=0xa&&(tim=0xa,timCost=0x0);}),app[_0xe9896a(0x220)](express[_0xe9896a(0x207)](publicPath)),io['on'](_0xe9896a(0x1e3),_0x557efd=>{const _0x2e3cc6=_0xe9896a;_0x557efd['on'](_0x2e3cc6(0x1f9),(_0x3b7f00,_0x583992)=>{const _0x4ca0c1=_0x2e3cc6;Plr[_0x4ca0c1(0x1fc)]({'username':_0x3b7f00},function(_0x1e8287,_0x36bfac){const _0x2ba6f8=_0x4ca0c1;_0x1e8287&&console[_0x2ba6f8(0x1e1)](_0x1e8287);if(_0x36bfac)Plr[_0x2ba6f8(0x214)]({'username':_0x3b7f00})['lean']()[_0x2ba6f8(0x1e4)](function(_0x28c966,_0x1ea224){const _0x4c24bb=_0x2ba6f8;let _0x3286ef=JSON[_0x4c24bb(0x1f5)](JSON[_0x4c24bb(0x1e7)](_0x1ea224));if(_0x583992==_0x3286ef['password']){let _0x20487d=players[_0x4c24bb(0x1ed)](_0x3dbbfb=>_0x3dbbfb[_0x4c24bb(0x203)]==_0x3b7f00);_0x20487d?_0x557efd['emit'](_0x4c24bb(0x1f1)):_0x557efd[_0x4c24bb(0x204)](_0x4c24bb(0x1f7),_0x3286ef[_0x4c24bb(0x203)]);}else _0x557efd['emit']('wrong\x20pass');});else{const _0x9e2e15=new Plr({'username':_0x3b7f00,'password':_0x583992,'ores':0x0,'donated':0x0,'totalMined':0x0,'autoMine':![],'mineLevel':0x1});_0x9e2e15[_0x2ba6f8(0x212)]()[_0x2ba6f8(0x208)](_0x223f55=>{const _0x10fc83=_0x2ba6f8;console[_0x10fc83(0x1e1)](_0x3b7f00+_0x10fc83(0x217)),_0x557efd[_0x10fc83(0x204)](_0x10fc83(0x1f7),_0x3b7f00);})[_0x2ba6f8(0x201)](_0x3f5b81=>{const _0x59848a=_0x2ba6f8;console[_0x59848a(0x1e1)](JSON[_0x59848a(0x1f5)](JSON[_0x59848a(0x1e7)](res)));}),console['log'](_0x3b7f00+_0x2ba6f8(0x21e)+_0x557efd['id']);}}),io['sockets'][_0x4ca0c1(0x204)](_0x4ca0c1(0x21f),players[_0x4ca0c1(0x218)],avOre,oreCost,timCost);});}),io['on']('connection',_0x3ab622=>{const _0x278c20=_0xe9896a;_0x3ab622['on'](_0x278c20(0x1f2),()=>{const _0x3f1a3c=_0x278c20;let _0x9e12ac=players[_0x3f1a3c(0x1ed)](_0x5746f4=>_0x5746f4['id']==_0x3ab622['id']);_0x9e12ac&&(updP(_0x9e12ac),players[_0x3f1a3c(0x20e)](players['indexOf'](_0x9e12ac),0x1),io['sockets'][_0x3f1a3c(0x204)](_0x3f1a3c(0x21f),players['length'],avOre,oreCost,timCost));});});function mine(_0x4c7f36){const _0x47790f=_0xe9896a;let _0x238671=_0x4c7f36[_0x47790f(0x225)],_0x2b3640=0x0;for(var _0x3581a9=0x0;_0x3581a9<_0x238671;_0x3581a9++){avOre>0x0&&(avOre--,_0x2b3640++);}_0x4c7f36[_0x47790f(0x21d)]+=_0x2b3640,_0x4c7f36['totalMined']+=_0x2b3640,io[_0x47790f(0x1e9)][_0x47790f(0x204)](_0x47790f(0x21f),players['length'],avOre,oreCost,timCost),io[_0x47790f(0x1e9)][_0x47790f(0x204)]('wild',_0x4c7f36[_0x47790f(0x21d)],_0x4c7f36['id']);}io['on'](_0xe9896a(0x1e3),_0x5ea04a=>{const _0xd23d1a=_0xe9896a;_0x5ea04a['on'](_0xd23d1a(0x20b),()=>{const _0x1bcbbf=_0xd23d1a;let _0x1c697b=players[_0x1bcbbf(0x1ed)](_0x3e67d1=>_0x3e67d1['id']==_0x5ea04a['id']),_0x2a3086=players[_0x1bcbbf(0x1ff)](players[_0x1bcbbf(0x1ed)](_0x205b57=>_0x205b57['id']==_0x5ea04a['id']));setTimeout(mine,0x1388,_0x1c697b);});}),io['on']('connection',_0x898632=>{const _0x1fc9f1=_0xe9896a;_0x898632['on'](_0x1fc9f1(0x1ee),(_0x11817d,_0x14b5b3)=>{const _0x142de2=_0x1fc9f1;Plr[_0x142de2(0x214)]({'username':_0x11817d},function(_0x3f9cc3,_0x1a6f59){const _0x526aba=_0x142de2;let _0x4c44f0=JSON[_0x526aba(0x1f5)](JSON[_0x526aba(0x1e7)](_0x1a6f59));_0x4c44f0['password']==_0x14b5b3?(_0x4c44f0['id']=_0x898632['id'],players[_0x526aba(0x200)](_0x4c44f0),_0x898632[_0x526aba(0x204)](_0x526aba(0x1f0),_0x4c44f0[_0x526aba(0x203)],_0x4c44f0[_0x526aba(0x21d)],_0x4c44f0['mineLevel'],_0x4c44f0['autoMine']),_0x898632['emit'](_0x526aba(0x21c)),io[_0x526aba(0x1e9)][_0x526aba(0x204)]('getValues',players[_0x526aba(0x218)],avOre,oreCost,timCost)):_0x898632[_0x526aba(0x204)](_0x526aba(0x1fb));});});}),io['on']('connection',_0x41cd9e=>{const _0x55254b=_0xe9896a;_0x41cd9e['on'](_0x55254b(0x1e6),()=>{const _0x140522=_0x55254b;let _0x4198d6=players[_0x140522(0x1ed)](_0x51acdf=>_0x51acdf['id']==_0x41cd9e['id']);_0x4198d6[_0x140522(0x1e6)]?console[_0x140522(0x1e1)](_0x140522(0x1f4)):_0x4198d6[_0x140522(0x21d)]>0x5&&(_0x4198d6[_0x140522(0x1e6)]=!![],_0x4198d6[_0x140522(0x21d)]-=0x5);let _0x9c39f6=_0x4198d6;_0x41cd9e[_0x140522(0x204)](_0x140522(0x1f0),_0x9c39f6[_0x140522(0x203)],_0x9c39f6['ores'],_0x9c39f6[_0x140522(0x225)],_0x9c39f6['autoMine']),io['sockets'][_0x140522(0x204)]('getValues',players['length'],avOre,oreCost,timCost);});}),io['on']('connection',_0x44db4f=>{const _0xeece47=_0xe9896a;_0x44db4f['on'](_0xeece47(0x1fa),()=>{const _0x10d1ff=_0xeece47;let _0x28794d=players[_0x10d1ff(0x1ed)](_0x45df39=>_0x45df39['id']==_0x44db4f['id']);_0x28794d[_0x10d1ff(0x21d)]>=oreCost?(_0x28794d[_0x10d1ff(0x21d)]-=oreCost,oreL++,_0x28794d[_0x10d1ff(0x1e5)]+=oreCost,oreCost=oreL/0x2*0xa+oreL*oreL):(_0x28794d['donated']+=_0x28794d[_0x10d1ff(0x21d)],oreCost-=_0x28794d['ores'],_0x28794d[_0x10d1ff(0x21d)]=0x0,oreCost<=0x0&&(oreL++,oreCost+=oreL/0x2*0xa+oreL*oreL));let _0x23065b=_0x28794d;_0x44db4f[_0x10d1ff(0x204)](_0x10d1ff(0x1f0),_0x23065b[_0x10d1ff(0x203)],_0x23065b['ores'],_0x23065b[_0x10d1ff(0x225)],_0x23065b['autoMine']),io['sockets'][_0x10d1ff(0x204)](_0x10d1ff(0x21f),players[_0x10d1ff(0x218)],avOre,oreCost,timCost);});}),io['on'](_0xe9896a(0x1e3),_0x429b75=>{_0x429b75['on']('donateF',()=>{const _0x4fcfbb=_0x49ea;let _0x432743=players['find'](_0x1849be=>_0x1849be['id']==_0x429b75['id']);_0x432743[_0x4fcfbb(0x21d)]>=timCost?(_0x432743[_0x4fcfbb(0x21d)]-=timCost,_0x432743[_0x4fcfbb(0x1e5)]+=timCost,timL++,timCost=0x5a*(timL*timL)):(_0x432743[_0x4fcfbb(0x1e5)]+=_0x432743[_0x4fcfbb(0x21d)],timCost-=_0x432743['ores'],_0x432743['ores']=0x0,timCost<=0x0&&(timL++,timCost=0x5a*(timL*timL)));let _0x4f2a8f=_0x432743;_0x429b75[_0x4fcfbb(0x204)](_0x4fcfbb(0x1f0),_0x4f2a8f[_0x4fcfbb(0x203)],_0x4f2a8f[_0x4fcfbb(0x21d)],_0x4f2a8f['mineLevel'],_0x4f2a8f[_0x4fcfbb(0x1e6)]),io['sockets'][_0x4fcfbb(0x204)](_0x4fcfbb(0x21f),players[_0x4fcfbb(0x218)],avOre,oreCost,timCost);});}),io['on'](_0xe9896a(0x1e3),_0x3324b7=>{const _0x1b61be=_0xe9896a;_0x3324b7['on'](_0x1b61be(0x1ea),()=>{const _0x35cfcb=_0x1b61be;let _0x49f9fc=players[_0x35cfcb(0x1ed)](_0x13fb85=>_0x13fb85['id']==_0x3324b7['id']),_0x49d0a4=_0x49f9fc['mineLevel']*0x32*(_0x49f9fc[_0x35cfcb(0x225)]/0x2);if(_0x49f9fc[_0x35cfcb(0x21d)]>=_0x49d0a4)_0x49f9fc[_0x35cfcb(0x21d)]-=_0x49d0a4,_0x49f9fc['mineLevel']++;else{}let _0x558052=_0x49f9fc;_0x3324b7[_0x35cfcb(0x204)](_0x35cfcb(0x1f0),_0x558052[_0x35cfcb(0x203)],_0x558052['ores'],_0x558052[_0x35cfcb(0x225)],_0x558052[_0x35cfcb(0x1e6)]),io[_0x35cfcb(0x1e9)][_0x35cfcb(0x204)](_0x35cfcb(0x21f),players[_0x35cfcb(0x218)],avOre,oreCost,timCost);});});function generateOre(){const _0x371be2=_0xe9896a;avOre=maxOre,io[_0x371be2(0x1e9)]['emit'](_0x371be2(0x21f),players[_0x371be2(0x218)],avOre,oreCost,timCost);}function updServ(){const _0x46ac88=_0xe9896a;var _0x14a22f=oreL,_0x46265d=timL,_0x425d48=oreCost,_0x3ed298=timCost;Admin[_0x46ac88(0x1fe)]({'username':_0x46ac88(0x206)},{'oreLevel':_0x14a22f,'timLevel':_0x46265d,'oreCost':_0x425d48,'timCost':_0x3ed298},function(_0x2eee96,_0x7873c3){});}function updP(_0x121437){const _0x29ca85=_0xe9896a;_0x121437&&Plr[_0x29ca85(0x1fe)]({'username':_0x121437[_0x29ca85(0x203)]},{'ores':_0x121437[_0x29ca85(0x21d)],'donated':_0x121437[_0x29ca85(0x1e5)],'autoMine':_0x121437[_0x29ca85(0x1e6)],'totalMined':_0x121437['totalMined'],'mineLevel':_0x121437[_0x29ca85(0x225)]},function(_0x26d025,_0x3d660c){});}function autos(){const _0x9271b4=_0xe9896a;for(var _0x3199fb=0x0;_0x3199fb<players[_0x9271b4(0x218)];_0x3199fb++){players[_0x3199fb][_0x9271b4(0x1e6)]&&mine(players[_0x3199fb]);}}function updateP(){const _0x1595e8=_0xe9896a;let _0x52bd53=players[updater];updP(_0x52bd53),updater++;updater>=players[_0x1595e8(0x218)]&&(updater=0x0);if(players[_0x1595e8(0x218)]>0x32){let _0x5c9aa5=players[updater];updP(_0x5c9aa5),updater++;updater>=players[_0x1595e8(0x218)]&&(updater=0x0);if(players[_0x1595e8(0x218)]>0x64){let _0x378b9b=players[updater];updP(_0x378b9b),updater++,updater>=players[_0x1595e8(0x218)]&&(updater=0x0);}}}function generOre(){regenProgress++,tim=0x3c+0x1-timL,regenProgress>=tim&&(generateOre(),regenProgress=0x0);}var updater=0x0;function _0x49ea(_0x144a7e,_0x235c5d){_0x144a7e=_0x144a7e-0x1e0;let _0x4890b6=_0x4890[_0x144a7e];return _0x4890b6;}setInterval(generOre,0x3e8),setInterval(updServ,0x2710),setInterval(autos,0x1388),setInterval(updateP,0x7d0),setInterval(function(){regenProgress++;if(regenProgress<tim)return;regenProgress=0x0,generateOre();},0x3e8);